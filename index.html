<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fluency Studio â€” Portal do Aluno</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet" />

  <style>
    body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; background-color: #f8fafc; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .animate-enter { animation: fadeIn 0.4s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>

  <!-- React 18 (prod) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone (necessÃ¡rio porque vocÃª estÃ¡ usando JSX dentro do HTML) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="text-slate-900 select-none">
  <div id="root"></div>

  <!--
    IMPORTANTE (GitHub Pages):
    - O GitHub Pages serve com header de seguranÃ§a que bloqueia "eval".
    - O Babel Standalone usa "eval" internamente.
    - Portanto: SEM essas 2 meta tags abaixo, o site pode ficar em branco.

    SoluÃ§Ã£o correta e profissional seria: build com Vite/React.
    Mas como vocÃª quer HTML Ãºnico, esta Ã© a correÃ§Ã£o mÃ­nima para funcionar no Pages.
  -->
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://unpkg.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https:;" />

  <script type="text/babel">
    const { useState, useEffect } = React;

    // --- BANCO DE DADOS LOCAL (Aqui ficam seus alunos) ---
    const DB = {
      users: [
        // ALUNO 01: Kaio Lara
        {
          email: 'kaiolaraamado14@gmail.com',
          pass: 'fluencystudio',
          name: 'Kaio Lara',
          level: 'Student - Fluency Studio'
        }
      ],
      lessons: [
        { id: 1, title: 'Welcome Class', date: '18 Fev', status: 'done', summary: 'Alinhamento de objetivos e setup.', link: 'https://classroom.google.com' },
        { id: 2, title: 'Present Perfect', date: '20 Fev', status: 'active', summary: 'Have/Has + Past Participle na prÃ¡tica.', link: 'https://classroom.google.com' },
        { id: 3, title: 'Business English', date: '25 Fev', status: 'locked', summary: 'VocabulÃ¡rio para reuniÃµes.', link: '#' }
      ]
    };

    // --- ÃCONES ---
    const Icon = ({ name }) => {
      const icons = {
        user: <><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>,
        lock: <><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>,
        check: <><polyline points="20 6 9 17 4 12"/></>,
        play: <><polygon points="5 3 19 12 5 21 5 3"/></>,
        logOut: <><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></>
      };
      return (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
          {icons[name]}
        </svg>
      );
    };

    // --- TELA DE LOGIN ---
    const LoginScreen = ({ onLogin, error }) => (
      <div className="min-h-screen flex items-center justify-center p-6 bg-slate-900">
        <div className="bg-white w-full max-w-sm rounded-2xl shadow-2xl p-8 animate-enter">
          <div className="text-center mb-8">
            <h1 className="text-2xl font-black text-slate-800 tracking-tight">Fluency Studio</h1>
            <p className="text-slate-500 text-sm font-medium">Portal do Aluno</p>
          </div>
          <form onSubmit={onLogin} className="space-y-4">
            <div>
              <label className="text-xs font-bold text-slate-400 uppercase">E-mail</label>
              <input name="email" type="email" defaultValue="kaiolaraamado14@gmail.com" className="w-full border-b-2 border-slate-200 py-2 focus:border-indigo-600 outline-none bg-transparent" />
            </div>
            <div>
              <label className="text-xs font-bold text-slate-400 uppercase">Senha</label>
              <input name="password" type="password" className="w-full border-b-2 border-slate-200 py-2 focus:border-indigo-600 outline-none bg-transparent" />
            </div>
            {error && <p className="text-red-500 text-xs font-bold text-center bg-red-50 p-2 rounded">{error}</p>}
            <button className="w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-transform mt-4">Acessar Portal</button>
          </form>
        </div>
      </div>
    );

    // --- TELA PRINCIPAL ---
    const Dashboard = ({ user, onLogout }) => (
      <div className="max-w-md mx-auto min-h-screen bg-slate-50 pb-12 animate-enter">
        <header className="bg-white px-6 pt-12 pb-6 shadow-sm border-b border-slate-100 flex justify-between items-end sticky top-0 z-10">
          <div>
            <p className="text-xs font-bold text-indigo-600 uppercase mb-1">Student Portal</p>
            <h1 className="text-2xl font-bold text-slate-900">OlÃ¡, {user.name.split(' ')[0]} ðŸ‘‹</h1>
          </div>
          <button onClick={onLogout} className="bg-slate-100 p-2 rounded-full text-slate-500 hover:text-red-500">
            <Icon name="logOut" />
          </button>
        </header>
        <main className="p-6">
          <div className="bg-indigo-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-200 mb-8 relative overflow-hidden">
            <div className="relative z-10">
              <p className="text-indigo-200 text-xs font-bold uppercase mb-1">Seu NÃ­vel</p>
              <h2 className="text-xl font-bold">{user.level}</h2>
            </div>
            <div className="absolute -right-4 -bottom-10 w-32 h-32 bg-indigo-500 rounded-full opacity-50 blur-2xl"></div>
          </div>

          <h3 className="font-bold text-lg text-slate-800 mb-4">Sua Trilha</h3>

          <div className="space-y-0 relative">
            <div className="absolute left-[19px] top-5 bottom-5 w-0.5 bg-slate-200"></div>

            {DB.lessons.map((lesson, idx) => (
              <div key={lesson.id} className={`relative flex gap-5 py-4 ${lesson.status === 'locked' ? 'opacity-60 grayscale' : ''}`}>
                <div className={`w-10 h-10 rounded-full flex items-center justify-center shrink-0 z-10 border-4 border-slate-50 transition-colors ${lesson.status === 'done' ? 'bg-green-500 text-white' : lesson.status === 'active' ? 'bg-indigo-600 text-white' : 'bg-slate-200 text-slate-400'}`}>
                  {lesson.status === 'done' ? <Icon name="check"/> : <span className="font-bold text-sm">{idx + 1}</span>}
                </div>

                <div className="flex-1 bg-white p-5 rounded-2xl shadow-sm border border-slate-100">
                  <span className="text-[10px] font-bold px-2 py-0.5 rounded uppercase bg-indigo-50 text-indigo-600">{lesson.date}</span>
                  <h4 className="font-bold text-slate-800 text-lg mb-1">{lesson.title}</h4>
                  <p className="text-sm text-slate-500 mb-4">{lesson.summary}</p>

                  {lesson.status !== 'locked' && (
                    <a href={lesson.link} target="_blank" rel="noreferrer" className="inline-flex items-center gap-2 bg-slate-900 text-white text-xs font-bold px-4 py-2.5 rounded-lg shadow-lg">
                      Acessar Aula
                    </a>
                  )}
                </div>
              </div>
            ))}
          </div>
        </main>
      </div>
    );

    const App = () => {
      const [user, setUser] = useState(null);
      const [error, setError] = useState('');

      useEffect(() => {
        const saved = localStorage.getItem('fluency_user');
        if (saved) setUser(JSON.parse(saved));
      }, []);

      const handleLogin = (e) => {
        e.preventDefault();
        const found = DB.users.find(u => u.email === e.target.email.value && u.pass === e.target.password.value);
        if (found) {
          setUser(found);
          localStorage.setItem('fluency_user', JSON.stringify(found));
          setError('');
        } else {
          setError('E-mail ou senha incorretos.');
        }
      };

      return user
        ? <Dashboard user={user} onLogout={() => { setUser(null); localStorage.removeItem('fluency_user'); }} />
        : <LoginScreen onLogin={handleLogin} error={error} />;
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
